function checkOrNot(e){if(e.checked){$(e).attr("checked","checked")}else{$(e).removeAttr("checked")}}function msg(e){function A(){if(t){return}y.css({opacity:0,top:k-50,left:L});y.css("background-image","url('"+msgBoxImagePath+"msgBoxBackGround.png')");S.css({opacity:e.opacity});e.beforeShow();S.css({width:$(document).width(),height:M()});$(o+","+l).fadeIn(0);y.animate({opacity:1,top:k,left:L},200);setTimeout(e.afterShow,200);t=true;$(window).bind("resize",function(e){var t=y.width();var n=y.height();var r=$(window).height();var i=$(window).width();var s=r/2-n/2;var o=i/2-t/2;y.css({top:s,left:o})})}function O(){if(!t){return}e.beforeClose();y.animate({opacity:0,top:k-50,left:L},200);S.fadeOut(300);setTimeout(function(){y.remove();S.remove()},300);setTimeout(e.afterClose,300);t=false}function M(){var e=document;return Math.max(Math.max(e.body.scrollHeight,e.documentElement.scrollHeight),Math.max(e.body.offsetHeight,e.documentElement.offsetHeight),Math.max(e.body.clientHeight,e.documentElement.clientHeight))}function _(){y.fadeOut(200).fadeIn(200)}var t=false;var n=typeof e;var r={content:n=="string"?e:"Message",title:"Warning",type:"alert",autoClose:false,timeOut:0,showButtons:true,buttons:[{value:"Ok"}],inputs:[{type:"text",name:"userName",header:"User Name"},{type:"password",name:"password",header:"Password"}],success:function(e){},beforeShow:function(){},afterShow:function(){},beforeClose:function(){},afterClose:function(){},opacity:.1};e=n=="string"?r:e;if(e.type!=null){switch(e.type){case"alert":e.title=e.title==null?"Warning":e.title;break;case"info":e.title=e.title==null?"Information":e.title;break;case"error":e.title=e.title==null?"Error":e.title;break;case"confirm":e.title=e.title==null?"Confirmation":e.title;e.buttons=e.buttons==null?[{value:"Yes"},{value:"No"},{value:"Cancel"}]:e.buttons;break;case"prompt":e.title=e.title==null?"Log In":e.title;e.buttons=e.buttons==null?[{value:"Login"},{value:"Cancel"}]:e.buttons;break;default:i="alert.png"}}e.timeOut=e.timeOut==null?e.content==null?500:e.content.length*150:e.timeOut;e=$.extend(r,e);if(e.autoClose){setTimeout(O,e.timeOut)}var i="";switch(e.type){case"alert":i="alert.png";break;case"info":i="info.gif";break;case"error":i="error.png";break;case"confirm":i="confirm.png";break;default:i="alert.png"}var s="msgBox"+(new Date).getTime();var o=s;var u=s+"Content";var a=s+"Image";var f=s+"Buttons";var l=s+"BackGround";var c="";$(e.buttons).each(function(e,t){c+='<input class="msgButton" type="button" name="'+t.value+'" value="'+t.value+'" />'});var h="";$(e.inputs).each(function(e,t){var n=t.type;if(n=="checkbox"||n=="radiobutton"){h+='<div class="msgInput">'+'<input type="'+t.type+'" onclick="checkOrNot(this)" name="'+t.name+'" '+(t.checked==null?"":"checked ='"+t.checked+"'")+' value="'+(typeof t.value=="undefined"?"":t.value)+'" />'+"<text>"+t.header+"</text>"+"</div>"}else{h+='<div class="msgInput">'+'<span class="msgInputHeader">'+t.header+"<span>"+'<input type="'+t.type+'" name="'+t.name+'" value="'+(typeof t.value=="undefined"?"":t.value)+'" />'+"</div>"}});var p="<div id="+l+' class="msgBoxBackGround"></div>';var d='<div class="msgBoxTitle">'+e.title+"</div>";var v='<div class="msgBoxContainer"><div id='+a+' class="msgBoxImage"><img src="'+msgBoxImagePath+i+'"/></div><div id='+u+' class="msgBoxContent"><p><span>'+e.content+"</span></p></div></div>";var m="<div id="+f+' class="msgBoxButtons">'+c+"</div>";var g='<div class="msgBoxInputs">'+h+"</div>";var y;var b;var w;var E;var S;if(e.type=="prompt"){$("html").append(p+"<div id="+o+' class="msgBox">'+d+"<div>"+v+(e.showButtons?m+"</div>":"</div>")+"</div>");y=$("#"+o);b=$("#"+u);w=$("#"+a);E=$("#"+f);S=$("#"+l);w.remove();E.css({"text-align":"center","margin-top":"5px"});b.css({width:"100%",height:"100%"});b.html(g)}else{$("html").append(p+"<div id="+o+' class="msgBox">'+d+"<div>"+v+(e.showButtons?m+"</div>":"</div>")+"</div>");y=$("#"+o);b=$("#"+u);w=$("#"+a);E=$("#"+f);S=$("#"+l)}var x=y.width();var T=y.height();var N=$(window).height();var C=$(window).width();var k=N/2-T/2;var L=C/2-x/2;A();$("input.msgButton").click(function(t){t.preventDefault();var n=$(this).val();if(e.type!="prompt"){e.success(n)}else{var r=[];$("div.msgInput input").each(function(e,t){var n=$(this).attr("name");var i=$(this).val();var s=$(this).attr("type");if(s=="checkbox"||s=="radiobutton"){r.push({name:n,value:i,checked:$(this).attr("checked")})}else{r.push({name:n,value:i})}});e.success(n,r)}O()});S.click(function(t){if(!e.showButtons||e.autoClose){O()}else{_()}})}var msgBoxImagePath="../common/css/themes/images/";jQuery.msgBox=msg;